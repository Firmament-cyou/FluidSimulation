# FluidSimulation
流体仿真

![image](https://github.com/Firmament-cyou/FluidSimulation/blob/master/images/result.PNG)

公式参考： sphsurvivalkit

性能优化：

    在空间中划分稀疏哈希网格，用以统计质点的影响范围；

    提前计算质点影响的钟形曲线并保存为 table，将后续大量计算改为查表；

对每个粒子，通过它附近周围的所有和它的距离半径小于 r 的所有粒子来计算出该粒子点的密度；

对于每一个粒子，通过理想气体状态方程根据上一步计算出的密度从而算出它的压强；

对于每一个粒子，根据它附近周围距离半径小于r的所有粒子的压强（上一步已经计算出）来计算出该粒子由于附近压强差而导致受到的压力差；

对于每一个粒子，根据它附近周围距离半径小于r的所有粒子的速度差来计算出该粒子由于附近速度差而导致受到的粘滞力（加速度）；

基于加速度与速度使用牛顿第二定律更新质点位置；

添加质点与盒边界的碰撞；

空格键重置场景；
